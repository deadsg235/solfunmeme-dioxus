use std::error::Error;use std::path::PathBuf;use std::fs;use crate::types::{IndexedDocument, IndexStats};pub fn export_to_markdown(documents: &[IndexedDocument], output_path: &Option<PathBuf>) -> Result<(), Box<dyn Error>> {    let mut md_output = String::new();    md_output.push_str("# Tantivy Index Export\n\n");    md_output.push_str(&format!("Total documents: {}\n\n", documents.len()));    for (i, doc) in documents.iter().enumerate() {        md_output.push_str(&format!("## Document {}\n\n", i + 1));        if let Some(path) = &doc.path {            md_output.push_str(&format!("**Path:** `{}`\n\n", path));        }        if let Some(emoji) = &doc.emoji {            md_output.push_str(&format!("**Emoji:** {}\n\n", emoji));        }        if let Some(language) = &doc.language {            md_output.push_str(&format!("**Language:** {}\n\n", language));        }        if let Some(chunk_type) = &doc.chunk_type {            md_output.push_str(&format!("**Type:** {}\n\n", chunk_type));        }        if let Some(line_start) = doc.line_start {            if let Some(line_end) = doc.line_end {                md_output.push_str(&format!("**Lines:** {} - {}\n\n", line_start, line_end));            }        }        if let Some(content) = &doc.content {            md_output.push_str("**Content:**\n```");            if let Some(lang) = &doc.language {                md_output.push_str(lang);            }            md_output.push_str("\n");            md_output.push_str(content);            md_output.push_str("\n```\n\n");        }        if let Some(hash) = &doc.content_hash {            md_output.push_str(&format!("**Hash:** `{}`\n\n", hash));        }        md_output.push_str(&format!("**Metrics:** {} tokens, {} lines, {} chars\n\n",            doc.token_count.unwrap_or(0),            doc.line_count.unwrap_or(0),            doc.char_count.unwrap_or(0)        ));        if let Some(test_result) = &doc.test_result {            md_output.push_str(&format!("**Test Result:** {}\n\n", test_result));        }        md_output.push_str("---\n\n");    }    match output_path {        Some(path) => {            fs::write(path, md_output)?;            println!("Exported {} documents to Markdown file: {:?}", documents.len(), path);        },        None => {            println!("{}", md_output);        }    }    Ok(())}